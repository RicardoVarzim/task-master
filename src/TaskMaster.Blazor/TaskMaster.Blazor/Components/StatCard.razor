<div class="card mb-3">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h6 class="card-subtitle mb-2 text-muted">@Title</h6>
                <h3 class="card-title mb-0">@Value</h3>
                @if (!string.IsNullOrEmpty(Subtitle))
                {
                    <small class="text-muted">@Subtitle</small>
                }
            </div>
            @if (!string.IsNullOrEmpty(Icon))
            {
                <div class="fs-1 text-@IconColor">
                    @Icon
                </div>
            }
        </div>
        @if (ShowProgress && MaxValue > 0)
        {
            <div class="mt-3">
                <div class="progress" style="height: 6px;">
                    <div class="progress-bar bg-@ProgressColor" 
                         role="progressbar" 
                         style="width: @(GetProgressPercentage())%"
                         aria-valuenow="@GetProgressPercentage()" 
                         aria-valuemin="0" 
                         aria-valuemax="100">
                    </div>
                </div>
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public string Title { get; set; } = string.Empty;

    [Parameter]
    public string Value { get; set; } = "0";

    [Parameter]
    public string? Subtitle { get; set; }

    [Parameter]
    public string? Icon { get; set; }

    [Parameter]
    public string IconColor { get; set; } = "primary";

    [Parameter]
    public bool ShowProgress { get; set; } = false;

    [Parameter]
    public double MaxValue { get; set; } = 0;

    [Parameter]
    public double CurrentValue { get; set; } = 0;

    [Parameter]
    public string ProgressColor { get; set; } = "success";

    private double GetProgressPercentage()
    {
        if (MaxValue <= 0) return 0;
        return Math.Min(100, (CurrentValue / MaxValue) * 100);
    }
}

